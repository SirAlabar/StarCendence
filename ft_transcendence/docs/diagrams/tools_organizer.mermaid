---
config:
  theme: neo-dark
  layout: dagre
  look: neo
  themeVariables:
    background: '#000000'
  flowchart:
    padding: 20
    nodeSpacing: 50
    rankSpacing: 80
    curve: basis
---
graph TD
    subgraph Tech["ğŸ”§ Core Technologies"]
        FASTIFY["âš¡ Fastify + Node.js<br/>Backend Framework"]
        BABYLON["ğŸ† Babylon.js<br/>3D Graphics Engine"]
        SQLITE["ğŸ’¾ SQLite Database<br/>Data Storage"]
        TAILWIND["ğŸ¨ Tailwind CSS<br/>Styling Framework"]
        WEBSOCKET["ğŸ”Œ WebSocket<br/>Real-time Communication"]
        REDIS["âš¡ Redis<br/>Cache + PubSub"]
    end
    
    subgraph MajorModules["ğŸ¯ Major Modules"]
        BACKEND["âš¡ Fastify Backend<br/>Major Module"]
        MICROSERVICES["ğŸ—ï¸ Backend as Microservices<br/>Major Module"]
        USER_MGMT["ğŸ‘¤ Standard User Management<br/>Major Module"]
        GOOGLE_AUTH["ğŸ”‘ Google Sign-in<br/>Major Module"]
        REMOTE_PLAY["ğŸŒ Remote Players<br/>Major Module"]
        MULTI_PLAY["ğŸ‘¥ Multiple Players<br/>Major Module"]
    end
    
    subgraph MajorModules2["ğŸ¯ Major Modules (continued)"]
        SECOND_GAME["ğŸï¸ Star Wars Racer + Matchmaking<br/>Major Module"]
        LIVE_CHAT["ğŸ’¬ Live Chat<br/>Major Module"]
        AI_OPPONENT["ğŸ¤– AI Opponent<br/>Major Module"]
        TFA_JWT["ğŸ” 2FA + JWT<br/>Major Module"]
        ADVANCED_3D["ğŸ† Advanced 3D Babylon.js<br/>Major Module"]
    end
    
    subgraph MinorModules["â­ Minor Modules"]
        TAILWIND_MOD["ğŸ¨ Tailwind CSS<br/>Minor Module"]
        SQLITE_MOD["ğŸ’¾ SQLite Database<br/>Minor Module"]
        CUSTOMIZATION["âš™ï¸ Game Customization<br/>Minor Module"]
        STATS_DASH["ğŸ“Š Stats Dashboard<br/>Minor Module"]
        DEVICE_SUPPORT["ğŸ“± All Devices Support<br/>Minor Module"]
        BROWSER_COMPAT["ğŸŒ Browser Compatibility<br/>Minor Module"]
        MONITORING["ğŸ“ˆ Prometheus/Grafana<br/>Minor Module"]
    end
    
    subgraph GameComponents["ğŸ® Game Components"]
        PONG_3D["ğŸ“ 3D Pong Game<br/>+ Local Multiplayer (Same Keyboard)"]
        STAR_RACER["ğŸï¸ Star Wars Racer<br/>Pod Racing Experience"]
        POWER_UPS["âš¡ Power-ups System<br/>Game Enhancements"]
        GAME_ENGINE["ğŸ¯ Game Engine Core<br/>Shared Mechanics"]
        LOCAL_MP["âŒ¨ï¸ Local Multiplayer<br/>Same Keyboard Support"]
    end
    
    subgraph Services["ğŸ—ï¸ Microservices Architecture"]
        AUTH_SERVICE["ğŸ” Auth Service<br/>Port 3001"]
        GAME_SERVICE["ğŸ® Game Service<br/>Port 3002"]
        CHAT_SERVICE["ğŸ’¬ Chat Service<br/>Port 3003"]
        USER_SERVICE["ğŸ‘¤ User Service<br/>Port 3004"]
        WS_SERVICE["ğŸŒ WebSocket Service<br/>Port 3005"]
    end
    
    subgraph Infrastructure["ğŸ› ï¸ Infrastructure"]
        DOCKER["ğŸ³ Docker Containers"]
        NGINX["ğŸŒ Nginx Reverse Proxy"]
        PROMETHEUS_TECH["ğŸ“Š Prometheus Monitoring"]
        GRAFANA_TECH["ğŸ“ˆ Grafana Dashboards"]
    end
    
    %% Technology to Module Connections
    FASTIFY --> BACKEND
    FASTIFY --> MICROSERVICES
    BABYLON --> ADVANCED_3D
    SQLITE --> SQLITE_MOD
    TAILWIND --> TAILWIND_MOD
    WEBSOCKET --> REMOTE_PLAY
    WEBSOCKET --> LIVE_CHAT
    REDIS --> MICROSERVICES
    
    %% Major Module Dependencies
    BACKEND --> USER_MGMT
    BACKEND --> SECOND_GAME
    BACKEND --> MICROSERVICES
    USER_MGMT --> GOOGLE_AUTH
    USER_MGMT --> TFA_JWT
    REMOTE_PLAY --> MULTI_PLAY
    REMOTE_PLAY --> LIVE_CHAT
    ADVANCED_3D --> PONG_3D
    ADVANCED_3D --> STAR_RACER
    SECOND_GAME --> STAR_RACER
    AI_OPPONENT --> PONG_3D
    AI_OPPONENT --> STAR_RACER
    
    %% Minor Module Dependencies
    SQLITE_MOD --> USER_MGMT
    SQLITE_MOD --> SECOND_GAME
    SQLITE_MOD --> STATS_DASH
    TAILWIND_MOD --> DEVICE_SUPPORT
    TAILWIND_MOD --> BROWSER_COMPAT
    CUSTOMIZATION --> POWER_UPS
    CUSTOMIZATION --> AI_OPPONENT
    STATS_DASH --> USER_MGMT
    MONITORING --> PROMETHEUS_TECH
    MONITORING --> GRAFANA_TECH
    
    %% Game Components
    POWER_UPS --> GAME_ENGINE
    PONG_3D --> LOCAL_MP
    PONG_3D --> GAME_ENGINE
    STAR_RACER --> GAME_ENGINE
    
    %% Microservices
    MICROSERVICES --> AUTH_SERVICE
    MICROSERVICES --> GAME_SERVICE
    MICROSERVICES --> CHAT_SERVICE
    MICROSERVICES --> USER_SERVICE
    MICROSERVICES --> WS_SERVICE
    
    %% Infrastructure
    DOCKER --> AUTH_SERVICE
    DOCKER --> GAME_SERVICE
    DOCKER --> CHAT_SERVICE
    DOCKER --> USER_SERVICE
    DOCKER --> WS_SERVICE
    NGINX --> DOCKER
    PROMETHEUS_TECH --> MONITORING
    GRAFANA_TECH --> MONITORING
    
    %% Cross-connections
    USER_MGMT --> AUTH_SERVICE
    USER_MGMT --> USER_SERVICE
    REMOTE_PLAY --> WS_SERVICE
    MULTI_PLAY --> WS_SERVICE
    LIVE_CHAT --> CHAT_SERVICE
    SECOND_GAME --> GAME_SERVICE
    AI_OPPONENT --> GAME_SERVICE
    
    classDef techStyle fill:#000000,stroke:#00f5ff,stroke-width:3px,color:#ffffff,font-size:14px
    classDef majorStyle fill:#000000,stroke:#39ff14,stroke-width:3px,color:#ffffff,font-size:14px
    classDef minorStyle fill:#000000,stroke:#b967db,stroke-width:3px,color:#ffffff,font-size:14px
    classDef gameStyle fill:#000000,stroke:#ff0080,stroke-width:3px,color:#ffffff,font-size:14px
    classDef serviceStyle fill:#000000,stroke:#00ffbf,stroke-width:3px,color:#ffffff,font-size:14px
    classDef infraStyle fill:#000000,stroke:#ffd700,stroke-width:3px,color:#ffffff,font-size:14px
    
    class FASTIFY,BABYLON,SQLITE,TAILWIND,WEBSOCKET,REDIS techStyle
    class BACKEND,MICROSERVICES,USER_MGMT,GOOGLE_AUTH,REMOTE_PLAY,MULTI_PLAY,SECOND_GAME,LIVE_CHAT,AI_OPPONENT,TFA_JWT,ADVANCED_3D majorStyle
    class TAILWIND_MOD,SQLITE_MOD,CUSTOMIZATION,STATS_DASH,DEVICE_SUPPORT,BROWSER_COMPAT,MONITORING minorStyle
    class PONG_3D,STAR_RACER,POWER_UPS,GAME_ENGINE,LOCAL_MP gameStyle
    class AUTH_SERVICE,GAME_SERVICE,CHAT_SERVICE,USER_SERVICE,WS_SERVICE serviceStyle
    class DOCKER,NGINX,PROMETHEUS_TECH,GRAFANA_TECH infraStyle